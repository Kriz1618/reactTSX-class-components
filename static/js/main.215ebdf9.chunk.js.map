{"version":3,"sources":["services/AuthService.ts","services/DataService.ts","utils/history.ts","components/Login.tsx","components/App.tsx","components/Home.tsx","components/Navbar.tsx","components/Profile.tsx","components/spaces/ConfirmModal.tsx","assets/generic-image.jpg","components/spaces/SpaceComponent.tsx","components/spaces/Spaces.tsx","index.tsx"],"names":["AuthService","userName","password","email","undefined","user","result","push","Name","Value","DataService","location","name","spaceId","photoUrl","createBrowserHistory","Login","state","loginAttempted","loginSuccessful","event","this","setState","target","value","preventDefault","props","authService","login","setUser","history","loginMessage","onSubmit","e","handleSubmit","onChange","setUserName","type","setPassword","React","Component","App","dataService","bind","className","exact","path","component","Home","Navbar","loginLogout","to","style","float","Profile","userAttributes","a","getUserAttributes","userAtrs","rows","userAttribute","profileSpace","renderUserAttributes","ConfirmModal","show","content","onClick","close","SpaceComponent","src","genericImage","alt","renderImg","reserveSpace","Spaces","spaces","showModal","closeModal","getSpaces","forEach","space","renderSpaces","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.215ebdf9.chunk.js","sourcesContent":["import { User, UserAttribute } from \"../model/Model\";\n\n/* istanbul ignore file */\nexport class AuthService {\n  public async login(\n    userName: string,\n    password: string\n  ): Promise<User | undefined> {\n    if (userName === \"user\" && password === \"123\") {\n      return { userName, email: \"testing@yopmail.com\" };\n    } else {\n      return undefined;\n    }\n  }\n\n  public async getUserAttributes(user: User): Promise<UserAttribute[]> {\n    const result: UserAttribute[] = [];\n    result.push(\n      {\n        Name: \"Testing user\",\n        Value: \"User Test\",\n      },\n      {\n        Name: \"Job\",\n        Value: \"Engineer\",\n      },\n      {\n        Name: \"Job 2\",\n        Value: \"Engineer\",\n      }\n    );\n\n    return result;\n  }\n}\n","import { Space } from \"../model/Model\";\n\n/* istanbul ignore file */\nexport class DataService {\n  public async getSpaces(): Promise<Space[]> {\n    const result: Space[] = [];\n    result.push(\n      {\n        location: \"Paris\",\n        name: \"Paris tower\",\n        spaceId: \"1\",\n        photoUrl:\n          \"https://estaticos.muyhistoria.es/media/cache/1140x_thumb/uploads/images/pyr/57baab765bafe83c45be0a61/paris.jpg\",\n      },\n      {\n        location: \"Spain\",\n        name: \"Some place\",\n        spaceId: \"2\",\n        photoUrl:\n          \"https://cdn1.parksmedia.wdprapps.disney.com/resize/mwImage/1/1600/1600/90/media/abd/refresh/europe/spain-vacations/abd-europe-spain-slideshow-01-plaza-de-espana-1x1.jpg?cb=3\",\n      },\n      {\n        location: \"Some place\",\n        name: \"Some place\",\n        spaceId: \"3\",\n      }\n    );\n\n    return result;\n  }\n\n  public async reserveSpace(spaceId: string): Promise<string | undefined> {\n    if (spaceId === \"123\") {\n      return \"44545\";\n    } else {\n      return undefined;\n    }\n  }\n}\n","import { createBrowserHistory } from \"history\";\n\nexport default createBrowserHistory();\n","import React, { SyntheticEvent } from 'react'\nimport { User } from '../model/Model';\nimport { AuthService } from '../services/AuthService';\nimport history from '../utils/history';\n\ninterface LoginProps {\n  authService: AuthService,\n  setUser: (user: User) => void\n}\n\ninterface LoginState {\n  userName: string,\n  password: string,\n  loginAttempted: boolean,\n  loginSuccessful: boolean\n}\n\ninterface CustomEvent {\n  target: HTMLInputElement\n}\n\nexport class Login extends React.Component<LoginProps, LoginState> {\n  state: LoginState = {\n    userName: '',\n    password: '',\n    loginAttempted: false,\n    loginSuccessful: false\n  }\n\n  private setUserName(event: CustomEvent) {\n    this.setState({ userName: event.target.value });\n  }\n\n  private setPassword(event: CustomEvent) {\n    this.setState({ password: event.target.value });\n  }\n\n  private async handleSubmit(event: SyntheticEvent) {\n    event.preventDefault();\n    this.setState({ loginAttempted: true })\n    const result = await this.props.authService.login(this.state.userName, this.state.password);\n\n    if (result) {\n      this.setState({ loginSuccessful: true });\n      this.props.setUser(result);\n      history.push('/profile');\n    } else {\n      this.setState({ loginSuccessful: false });\n\n    }\n  }\n\n  render() {\n    let loginMessage: any;\n    if (this.state.loginAttempted) {\n      loginMessage = <label>Login {this.state.loginSuccessful ? 'successful' : 'failed'}</label>\n    }\n    return (\n      <div>\n        <h2>Please Login</h2>\n        <form onSubmit={e => this.handleSubmit(e)}>\n          <input value={this.state.userName} onChange={e => this.setUserName(e)} /><br />\n          <input value={this.state.password} type=\"password\" onChange={e => this.setPassword(e)} /><br />\n          <input type='submit' value='Login' />\n          {loginMessage}\n        </form>\n      </div >\n    )\n\n  }\n}\n","import React from 'react';\nimport { User } from '../model/Model';\nimport { AuthService, DataService } from '../services/';\nimport { Login } from './Login';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from '../utils/history';\nimport { Navbar, Home, Profile, Spaces } from './';\n\ninterface AppState {\n  user: User | undefined\n}\n\n/* istanbul ignore file */\nexport class App extends React.Component<{}, AppState> {\n\n  private authService: AuthService = new AuthService();\n\n  private dataService: DataService = new DataService();\n\n  constructor(props: any) {\n    super(props);\n    this.state = { user: undefined };\n    this.setUser = this.setUser.bind(this);\n  }\n\n  private setUser(user: User) {\n    this.setState({ user: user });\n  }\n\n  render() {\n    return <div className='wrapper'>\n      <Router history={history}>\n        <div>\n          <Navbar user={this.state.user} />\n          <Switch>\n            <Route exact path='/' component={Home} />\n            <Route exact path='/login'>\n              <Login authService={this.authService} setUser={this.setUser} />\n            </Route>\n            <Route exact path='/profile'>\n              <Profile user={this.state.user} authService={this.authService} />\n            </Route>\n            <Route exact path='/spaces'>\n              <Spaces dataService={this.dataService} />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    </div >\n  }\n}\n","import React from 'react';\n\nexport class Home extends React.Component {\n\n  render() {\n    return (\n      <div>Home page</div>\n    )\n\n  }\n}\n","import React from 'react'\nimport { User } from '../model/Model'\nimport { Link } from 'react-router-dom'\n\nexport class Navbar extends React.Component<{ user: User | undefined }> {\n\n  render() {\n    let loginLogout: any;\n    if (this.props.user) {\n      loginLogout = <Link to='/logout' style={{ float: 'right' }}>{this.props.user.userName}</Link>\n    } else {\n      loginLogout = <Link data-testid='login-link' to='/login' style={{ float: 'right' }}>Login</Link>;\n    }\n\n    return (\n      <div className=\"navbar\">\n        <Link data-testid='home-link' to='/'> Home</Link>\n        <Link data-testid='profile-link' to='/profile'> Profile</Link>\n        <Link data-testid='spaces-link' to='/spaces'> Spaces</Link>\n        {loginLogout}\n      </div>\n    )\n\n  }\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { User, UserAttribute } from '../model/Model';\nimport { AuthService } from '../services/AuthService';\n\ninterface ProfileStates {\n  userAttributes: UserAttribute[];\n}\n\ninterface ProfileProps {\n  user: User | undefined;\n  authService: AuthService;\n}\n\nexport class Profile extends React.Component<ProfileProps, ProfileStates> {\n  state: ProfileStates = {\n    userAttributes: []\n  }\n\n  async componentDidMount() {\n    if (this.props.user) {\n      const userAtrs = await this.props.authService.getUserAttributes(this.props.user);\n      this.setState({ userAttributes: userAtrs })\n    }\n  }\n  private renderUserAttributes() {\n    const rows = [];\n    for (const userAttribute of this.state.userAttributes) {\n      rows.push(<tr key={userAttribute.Name}>\n        <td>{userAttribute.Name}</td>\n        <td>{userAttribute.Value}</td>\n      </tr>)\n    }\n\n    return <table>\n      <tbody>\n        {rows}\n      </tbody>\n    </table>\n  }\n  render() {\n    let profileSpace;\n    if (this.props.user) {\n      profileSpace = <div>\n        <h3>Hello {this.props.user.userName}</h3>\n        {this.renderUserAttributes()}\n      </div>\n    } else {\n      profileSpace = <div>\n        Please <Link to='/login'>Login</Link>\n      </div>\n    }\n\n    return (\n      <div>\n        Profile page\n        {profileSpace}\n      </div>\n    )\n\n  }\n}\n","import { Component } from 'react'\nimport './ConfirmModal.css';\n\ninterface ConfirmModalProps {\n  show: boolean,\n  content: string,\n  close: () => void\n}\n\nexport class ConfirmModal extends Component<ConfirmModalProps> {\n\n  render() {\n    if (this.props.show) {\n      return <div className=\"modal\">\n        <div className=\"modal-content\">\n          <h2>You tried to reserve...</h2>\n          <h3 className=\"modalText\">{this.props.content}</h3>\n          <button className='modalButton' onClick={() => this.props.close()}>Close</button>\n        </div>\n      </div>\n    }\n    return (\n      <div>\n\n      </div>\n    )\n\n  }\n}\n","export default __webpack_public_path__ + \"static/media/generic-image.8939f288.jpg\";","import { Component } from 'react';\nimport genericImage from '../../assets/generic-image.jpg';\nimport './SpaceComponent.css';\n\ninterface SpaceComponentProps {\n  spaceId: string,\n  name: string,\n  location: string,\n  photoUrl?: string\n  reserveSpace: (spaceId: string) => void\n}\nexport class SpaceComponent extends Component<SpaceComponentProps> {\n\n  private renderImg() {\n    return <img src={this.props.photoUrl || genericImage} alt='' />\n  }\n\n  render() {\n    return (\n      <div className=\"spaceComponent\">\n        {this.renderImg()}\n        <label className=\"name\">{this.props.name}</label><br />\n        <label className=\"spaceId\">{this.props.spaceId}</label><br />\n        <label className=\"location\">{this.props.location}</label><br />\n        <button onClick={() => this.props.reserveSpace(this.props.spaceId)}>Reserve</button>\n      </div >\n    )\n\n  }\n}\n","import { Component } from 'react'\nimport { Space } from '../../model/Model'\nimport { DataService } from '../../services/DataService';\nimport { SpaceComponent } from './SpaceComponent';\nimport { ConfirmModal } from './ConfirmModal';\n\ninterface SpacesState {\n  spaces: Space[];\n  showModal: boolean;\n  content: string\n}\n\ninterface SpacesProps {\n  dataService: DataService\n}\nexport class Spaces extends Component<SpacesProps, SpacesState> {\n  constructor(props: SpacesProps) {\n    super(props);\n\n    this.state = {\n      spaces: [], showModal: false,\n      content: ''\n    };\n\n    this.reserveSpace = this.reserveSpace.bind(this);\n    this.closeModal = this.closeModal.bind(this)\n  }\n\n  async componentDidMount() {\n    const spaces = await this.props.dataService.getSpaces();\n    this.setState({ spaces });\n  }\n\n  async reserveSpace(spaceId: string) {\n    const result = await this.props.dataService.reserveSpace(spaceId);\n    if (result) {\n      this.setState({\n        showModal: true, content: `You reserved the space ${spaceId}, it was accepted with the code ${result}`\n      })\n    } else {\n      this.setState({ showModal: true, content: `You couldn't reserve the space ${spaceId}` })\n    }\n  }\n\n  private renderSpaces() {\n    const rows: any[] = [];\n    this.state.spaces.forEach(space => {\n      rows.push(<SpaceComponent\n        key={space.spaceId}\n        location={space.location}\n        name={space.name}\n        photoUrl={space.photoUrl}\n        spaceId={space.spaceId}\n        reserveSpace={this.reserveSpace}\n      />)\n    })\n\n    return rows;\n  }\n\n  private closeModal() {\n    this.setState({ showModal: false, content: '' });\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Spaces Page</h2>\n        {this.renderSpaces()}\n        {this.state.showModal && <ConfirmModal content={this.state.content} close={this.closeModal} show={this.state.showModal} />}\n      </div>\n    )\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './components/';\n\n/* istanbul ignore file */\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}